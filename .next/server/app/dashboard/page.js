(()=>{var e={};e.id=702,e.ids=[702],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},11222:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>g,tree:()=>c});var t=a(67096),r=a(16132),i=a(37284),d=a.n(i),n=a(32564),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);a.d(s,l);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1618)),"C:\\aider\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,15581)),"C:\\aider\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,39882)),"C:\\aider\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\aider\\app\\dashboard\\page.tsx"],x="/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},g=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5368:(e,s,a)=>{Promise.resolve().then(a.bind(a,83010))},83010:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>DashboardPage});var t=a(30784),r=a(9885),i=a(40704),d=a(39576);let DashboardService=class DashboardService{async getDashboardData(){let e=await d.x.get("/dashboard");return e.data}async getProjects(){let e=await d.x.get("/dashboard/projects");return e.data}async getFinancialSummary(e){let s=await d.x.get("/dashboard/summary",{businessId:e});return s.data}async getMetrics(e){let s=await d.x.get("/dashboard/metrics",{businessId:e});return s.data}async getRecentActivity(e=10){let s=await d.x.get("/dashboard/recent-activity",{limit:e});return s.data}async getChartsData(e,s){let a=await d.x.get("/dashboard/charts-data",{businessId:e,year:s});return a.data}};let n=new DashboardService;function DashboardPage(){let{user:e,isAuthenticated:s}=(0,i.a)(),[a,d]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),[o,x]=(0,r.useState)("");if((0,r.useEffect)(()=>{let fetchDashboardData=async()=>{try{let e=await n.getDashboardData();d(e)}catch(e){x(e.message||"Error al cargar los datos")}finally{c(!1)}};s&&fetchDashboardData()},[s]),l)return t.jsx("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando dashboard..."})]})});if(o)return t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:o});let m=[{name:"Ingresos del Mes",value:`$${a?.totalIncome?.toLocaleString("es-AR")||"0"}`,change:"+12%",changeType:"positive"},{name:"Egresos del Mes",value:`$${a?.totalExpenses?.toLocaleString("es-AR")||"0"}`,change:"+5%",changeType:"negative"},{name:"Ganancia Neta",value:`$${a?.netProfit?.toLocaleString("es-AR")||"0"}`,change:"+8%",changeType:"positive"},{name:"Proyectos Activos",value:a?.activeProjects?.toString()||"0",change:"+2",changeType:"positive"}],g=a?.recentActivity?.map(e=>({id:e.id,description:e.description,amount:`$${e.amount.toLocaleString("es-AR")}`,type:"INCOME"===e.type?"ingreso":"egreso",date:e.date}))||[];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Resumen de tu gesti\xf3n financiera agropecuaria"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:m.map(e=>t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsx("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${"positive"===e.changeType?"bg-green-100":"bg-red-100"}`,children:t.jsx("span",{className:`text-sm font-medium ${"positive"===e.changeType?"text-green-600":"text-red-600"}`,children:"positive"===e.changeType?"↗":"↘"})})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),(0,t.jsxs)("dd",{className:"flex items-baseline",children:[t.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:e.value}),t.jsx("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${"positive"===e.changeType?"text-green-600":"text-red-600"}`,children:e.change})]})]})})]})})},e.name))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ingresos vs Egresos"}),t.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsx("p",{className:"text-gray-500",children:"Gr\xe1fico de ingresos vs egresos"})})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transacciones Recientes"})}),t.jsx("div",{className:"divide-y divide-gray-200",children:g.map(e=>t.jsx("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.description}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString("es-AR")})]}),t.jsx("div",{className:"ml-4 flex-shrink-0",children:(0,t.jsxs)("p",{className:`text-sm font-medium ${"ingreso"===e.type?"text-green-600":"text-red-600"}`,children:["ingreso"===e.type?"+":"-",e.amount]})})]})},e.id))}),t.jsx("div",{className:"px-6 py-3 bg-gray-50",children:t.jsx("a",{href:"/dashboard/ingresos",className:"text-sm font-medium text-green-600 hover:text-green-500",children:"Ver todas las transacciones →"})})]})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Acciones R\xe1pidas"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("a",{href:"/dashboard/ingresos/nuevo",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-green-600 text-lg",children:"+"})})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Nuevo Ingreso"})})]}),(0,t.jsxs)("a",{href:"/dashboard/egresos/nuevo",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-red-600 text-lg",children:"-"})})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Nuevo Egreso"})})]}),(0,t.jsxs)("a",{href:"/dashboard/liquidaciones/nueva",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-blue-600 text-lg",children:"\uD83D\uDCC4"})})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Nueva Liquidaci\xf3n"})})]}),(0,t.jsxs)("a",{href:"/dashboard/reportes",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-purple-600 text-lg",children:"\uD83D\uDCCA"})})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Ver Reportes"})})]})]})]})]})}},1618:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>d,__esModule:()=>i,default:()=>l});var t=a(95153);let r=(0,t.createProxy)(String.raw`C:\aider\app\dashboard\page.tsx`),{__esModule:i,$$typeof:d}=r,n=r.default,l=n}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[657,927,115,66],()=>__webpack_exec__(11222));module.exports=a})();